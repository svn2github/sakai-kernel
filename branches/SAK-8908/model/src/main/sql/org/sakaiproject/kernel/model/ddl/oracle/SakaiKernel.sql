CREATE TABLE sakai_event (EVENT VARCHAR(32) NULL, EVENT_CODE VARCHAR(1) NULL, EVENT_DATE TIMESTAMP NULL, EVENT_ID INTEGER NOT NULL, ID INTEGER NOT NULL, REF VARCHAR(255) NULL, SESSION_ID VARCHAR(163) NULL, PRIMARY KEY (ID));
CREATE TABLE sakai_digest (DIGEST_ID VARCHAR(99) NOT NULL, ID INTEGER NOT NULL, XML LONG VARCHAR NULL, PRIMARY KEY (ID));
CREATE TABLE sakai_site_group (DESCRIPTION LONG VARCHAR NULL, GROUP_ID VARCHAR(99) NOT NULL, ID INTEGER NOT NULL, SITE_ID VARCHAR(99) NOT NULL, TITLE VARCHAR(99) NULL, PRIMARY KEY (ID));
CREATE TABLE sakai_preferences (ID INTEGER NOT NULL, PREFERENCES_ID VARCHAR(99) NOT NULL, XML LONG VARCHAR NULL, PRIMARY KEY (ID));
CREATE TABLE SAKAI_CLUSTER (ID INTEGER NOT NULL, SERVER_ID VARCHAR(64) NOT NULL, UPDATE_TIME TIMESTAMP NULL, PRIMARY KEY (ID));
CREATE TABLE sakai_site_group_property (GROUP_ID VARCHAR(99) NOT NULL, NAME VARCHAR(99) NOT NULL, SITE_ID VARCHAR(99) NOT NULL, VALUE LONG VARCHAR NULL, PRIMARY KEY (GROUP_ID, NAME));
CREATE TABLE sakai_site_tool_property (NAME VARCHAR(99) NOT NULL, SITE_ID VARCHAR(99) NOT NULL, TOOL_ID VARCHAR(99) NOT NULL, VALUE LONG VARCHAR NULL, PRIMARY KEY (NAME, TOOL_ID));
CREATE TABLE SAKAI_SITE_PAGE (ID INTEGER NOT NULL, LAYOUT CHAR(1) NULL, PAGE_ID VARCHAR(99) NOT NULL, POPUP CHAR(1) NULL, SITE_ID VARCHAR(99) NOT NULL, SITE_ORDER INTEGER NOT NULL, TITLE VARCHAR(99) NULL, PRIMARY KEY (ID));
CREATE TABLE content_collection (BINARY_ENTITY LONG RAW NULL, COLLECTION_ID VARCHAR(255) NOT NULL, ID INTEGER NOT NULL, IN_COLLECTION VARCHAR(255) NULL, XML LONG VARCHAR NULL, PRIMARY KEY (ID));
CREATE TABLE sakai_site_page_property (NAME VARCHAR(99) NOT NULL, PAGE_ID VARCHAR(99) NOT NULL, SITE_ID VARCHAR(99) NOT NULL, VALUE LONG VARCHAR NULL, PRIMARY KEY (NAME, PAGE_ID));
CREATE TABLE content_dropbox_changes (DROPBOX_ID VARCHAR(255) NOT NULL, ID INTEGER NOT NULL, IN_COLLECTION VARCHAR(255) NULL, LAST_UPDATE VARCHAR(24) NULL, PRIMARY KEY (ID));
CREATE TABLE sakai_alias (ALIAS_ID VARCHAR(99) NOT NULL, CREATEDBY VARCHAR(99) NOT NULL, CREATEDON TIMESTAMP NOT NULL, ID INTEGER NOT NULL, MODIFIEDBY VARCHAR(99) NOT NULL, MODIFIEDON TIMESTAMP NOT NULL, TARGET VARCHAR(255) NULL, PRIMARY KEY (ID));
CREATE TABLE sakai_user (CREATEDBY VARCHAR(99) NOT NULL, CREATEDON TIMESTAMP NOT NULL, EMAIL VARCHAR(255) NULL, EMAIL_LC VARCHAR(255) NULL, FIRST_NAME VARCHAR(255) NULL, ID INTEGER NOT NULL, LAST_NAME VARCHAR(255) NULL, MODIFIEDBY VARCHAR(99) NOT NULL, MODIFIEDON TIMESTAMP NOT NULL, PW VARCHAR(255) NULL, TYPE VARCHAR(255) NULL, USER_ID VARCHAR(99) NOT NULL, PRIMARY KEY (ID));
CREATE TABLE SAKAI_USER_PROPERTY (NAME VARCHAR(99) NOT NULL, USER_ID VARCHAR(99) NOT NULL, VALUE LONG VARCHAR NULL, PRIMARY KEY (NAME, USER_ID));
CREATE TABLE sakai_site_user (PERMISSION INTEGER NOT NULL, SITE_ID VARCHAR(99) NOT NULL, USER_ID VARCHAR(99) NOT NULL, PRIMARY KEY (SITE_ID, USER_ID));
CREATE TABLE SAKAI_REALM_PROPERTY (NAME VARCHAR(99) NOT NULL, REALM_KEY INTEGER NOT NULL, VALUE LONG VARCHAR NULL, PRIMARY KEY (NAME, REALM_KEY));
CREATE TABLE sakai_notification (ID RAW NOT NULL, NOTIFICATION_ID VARCHAR(99) NOT NULL, XML LONG VARCHAR NULL, PRIMARY KEY (ID));
CREATE TABLE sakai_session (ID INTEGER NOT NULL, SESSION_ACTIVE INTEGER NULL, SESSION_END TIMESTAMP NULL, SESSION_ID VARCHAR(36) NOT NULL, SESSION_IP VARCHAR(128) NULL, SESSION_SERVER VARCHAR(64) NULL, SESSION_START TIMESTAMP NULL, SESSION_USER VARCHAR(99) NULL, SESSION_USER_AGENT VARCHAR(255) NULL, PRIMARY KEY (ID));
CREATE TABLE content_resource_body_binary (BODY LONG RAW NULL, ID INTEGER NOT NULL, RESOURCE_ID VARCHAR(255) NOT NULL, PRIMARY KEY (ID));
CREATE TABLE sakai_realm_role (ROLE_KEY INTEGER NOT NULL, ROLE_NAME VARCHAR(99) NOT NULL, PRIMARY KEY (ROLE_KEY));
CREATE TABLE SAKAI_REALM (CREATEDBY VARCHAR(99) NULL, CREATEDON TIMESTAMP NULL, ID INTEGER NOT NULL, MAINTAIN_ROLE INTEGER NULL, MODIFIEDBY VARCHAR(99) NULL, MODIFIEDON TIMESTAMP NULL, PROVIDER_ID VARCHAR(1024) NULL, REALM_ID VARCHAR(255) NOT NULL, REALM_KEY INTEGER NOT NULL, PRIMARY KEY (ID));
CREATE TABLE sakai_user_id_map (EID VARCHAR(255) NOT NULL, USER_ID VARCHAR(99) NOT NULL, PRIMARY KEY (USER_ID));
CREATE TABLE content_resource (BINARY_ENTITY LONG RAW NULL, CONTEXT VARCHAR(99) NULL, FILE_PATH VARCHAR(128) NULL, FILE_SIZE INTEGER NULL, ID INTEGER NOT NULL, IN_COLLECTION VARCHAR(255) NULL, RESOURCE_ID VARCHAR(255) NOT NULL, RESOURCE_TYPE_ID VARCHAR(255) NULL, RESOURCE_UUID VARCHAR(36) NULL, XML LONG VARCHAR NULL, PRIMARY KEY (ID));
CREATE TABLE SAKAI_REALM_PROVIDER (PROVIDER_ID VARCHAR(200) NOT NULL, REALM_KEY INTEGER NOT NULL, PRIMARY KEY (PROVIDER_ID, REALM_KEY));
CREATE TABLE content_resource_lock (asset_id VARCHAR(36) NULL, date_added TIMESTAMP NULL, date_removed TIMESTAMP NULL, id INTEGER NOT NULL, is_active INTEGER NULL, is_system INTEGER NULL, qualifier_id VARCHAR(36) NULL, reason VARCHAR(36) NULL, PRIMARY KEY (id));
CREATE TABLE sakai_site (CREATEDBY VARCHAR(99) NULL, CREATEDON TIMESTAMP NULL, CUSTOM_PAGE_ORDERED CHAR(1) NULL, DESCRIPTION LONG VARCHAR NULL, ICON_URL VARCHAR(255) NULL, ID INTEGER NOT NULL, INFO_URL VARCHAR(255) NULL, IS_SPECIAL CHAR(1) NULL, IS_USER CHAR(1) NULL, JOINABLE CHAR(1) NULL, JOIN_ROLE VARCHAR(99) NULL, MODIFIEDBY VARCHAR(99) NULL, MODIFIEDON TIMESTAMP NULL, PUBLISHED INTEGER NULL, PUBVIEW CHAR(1) NULL, SHORT_DESC LONG VARCHAR NULL, SITE_ID VARCHAR(99) NOT NULL, SKIN VARCHAR(255) NULL, TITLE VARCHAR(99) NULL, TYPE VARCHAR(99) NULL, PRIMARY KEY (ID));
CREATE TABLE SAKAI_ALIAS_PROPERTY (ALIAS_ID VARCHAR(99) NOT NULL, NAME VARCHAR(99) NOT NULL, VALUE LONG VARCHAR NULL, PRIMARY KEY (ALIAS_ID, NAME));
CREATE TABLE content_type_registry (CONTEXT_ID VARCHAR(99) NOT NULL, ENABLED VARCHAR(1) NULL, ID INTEGER NOT NULL, RESOURCE_TYPE_ID VARCHAR(255) NULL, PRIMARY KEY (ID));
CREATE TABLE SAKAI_REALM_RL_FN (FUNCTION_KEY INTEGER NOT NULL, REALM_KEY INTEGER NOT NULL, ROLE_KEY INTEGER NOT NULL, PRIMARY KEY (FUNCTION_KEY, REALM_KEY, ROLE_KEY));
CREATE TABLE sakai_locks (LOCK_TIME TIMESTAMP NULL, RECORD_ID VARCHAR(512) NULL, TABLE_NAME VARCHAR(64) NULL, USAGE_SESSION_ID VARCHAR(36) NULL, id INTEGER NOT NULL, PRIMARY KEY (id));
CREATE TABLE content_resource_delete (BINARY_ENTITY LONG RAW NULL, CONTEXT VARCHAR(99) NULL, DELETE_DATE DATE NULL, DELETE_USERID VARCHAR(36) NULL, FILE_PATH VARCHAR(128) NULL, FILE_SIZE INTEGER NULL, ID INTEGER NOT NULL, IN_COLLECTION VARCHAR(255) NULL, RESOURCE_ID VARCHAR(255) NOT NULL, RESOURCE_TYPE_ID VARCHAR(255) NULL, RESOURCE_UUID VARCHAR(36) NULL, XML LONG VARCHAR NULL, PRIMARY KEY (ID));
CREATE TABLE sakai_realm_function (FUNCTION_KEY INTEGER NOT NULL, FUNCTION_NAME VARCHAR(99) NOT NULL, ID INTEGER NOT NULL, PRIMARY KEY (ID));
CREATE TABLE SAKAI_SITE_PROPERTY (NAME VARCHAR(99) NOT NULL, SITE_ID VARCHAR(99) NOT NULL, VALUE LONG VARCHAR NULL, PRIMARY KEY (NAME, SITE_ID));
CREATE TABLE SAKAI_SITE_TOOL (ID INTEGER NOT NULL, LAYOUT_HINTS VARCHAR(99) NULL, PAGE_ID VARCHAR(99) NOT NULL, PAGE_ORDER INTEGER NOT NULL, REGISTRATION VARCHAR(99) NOT NULL, SITE_ID VARCHAR(99) NOT NULL, TITLE VARCHAR(99) NULL, TOOL_ID VARCHAR(99) NOT NULL, PRIMARY KEY (ID));
CREATE TABLE SAKAI_REALM_ROLE_DESC (DESCRIPTION LONG VARCHAR NULL, PROVIDER_ONLY CHAR(1) NULL, REALM_KEY INTEGER NOT NULL, ROLE_KEY INTEGER NOT NULL, PRIMARY KEY (REALM_KEY, ROLE_KEY));
CREATE TABLE SAKAI_REALM_RL_GR (ACTIVE CHAR(1) NULL, PROVIDED CHAR(1) NULL, REALM_KEY INTEGER NOT NULL, ROLE_KEY INTEGER NOT NULL, USER_ID VARCHAR(99) NOT NULL, PRIMARY KEY (REALM_KEY, USER_ID));
ALTER TABLE SAKAI_REALM ADD FOREIGN KEY (MAINTAIN_ROLE) REFERENCES sakai_realm_role (ROLE_KEY);
ALTER TABLE SAKAI_REALM_RL_FN ADD FOREIGN KEY (ROLE_KEY) REFERENCES sakai_realm_role (ROLE_KEY);
ALTER TABLE SAKAI_REALM_ROLE_DESC ADD FOREIGN KEY (ROLE_KEY) REFERENCES sakai_realm_role (ROLE_KEY);
ALTER TABLE SAKAI_REALM_RL_GR ADD FOREIGN KEY (ROLE_KEY) REFERENCES sakai_realm_role (ROLE_KEY);
CREATE SEQUENCE pk_sakai_alias_property START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_cluster START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_realm START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_realm_property START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_realm_provider START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_realm_rl_fn START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_realm_rl_gr START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_realm_role_desc START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_site_page START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_site_property START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_site_tool START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_user_property START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_content_collection START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_content_dropbox_changes START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_content_resource START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_content_resource_body_binary START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_content_resource_delete START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_content_resource_lock START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_content_type_registry START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_alias START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_digest START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_event START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_locks START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_notification START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_preferences START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_realm_function START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_realm_role START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_session START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_site START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_site_group START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_site_group_property START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_site_page_property START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_site_tool_property START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_site_user START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_user START WITH 200 INCREMENT BY 20;
CREATE SEQUENCE pk_sakai_user_id_map START WITH 200 INCREMENT BY 20;
